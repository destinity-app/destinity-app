@namespace Destinity.Components.Event.EventCalendars
@using Destinity.Components.Event.EventCalendars.EventCalendarAnswers

<table>
    <tr>
        <th>Hour</th>
        @foreach (var day in _data.Days) {
            <th><MudText Typo="Typo.h4">@day.Date.Day</MudText></th>
        }
    </tr>
    @for (var hour = 0; hour < 24; hour++) {
        <tr>
            <td>@(new TimeOnly(hour:hour, 0, 0))</td>
            @foreach (var _ in _data.Days) {
                <td>
                    <EventCalendarAnswer/>
                </td>
            }
        </tr>
    }
</table>

@code {
    private CalendarData _data = null!;

    protected override void OnInitialized() {
        var dates = new List<DateData>();

        for (int i = 0; i < 7; i++) {
            var date = new DateData {
                Date = DateOnly.FromDateTime(DateTime.Now.AddDays(i))
            };
            dates.Add(date);
        }
        _data = new CalendarData {
            Days = dates
        };
    }
}